// Rolling test file. Feel free to edit when testing forks. Any changes to this file in a PR will likely be accepted.

namespace example;

entitydef minecraft:base {
    bool Invulnerable;
    string CustomName;
    unsafe_string[] Tags;
}

entitydef test_entity implements minecraft:base {
    float Health;
}

class test {
    int x;

    test(int val) {
        this.x = val;
    }
}

#load
void main() {
    test obj1 = (test)amethyst:gc/malloc();
    test(obj1, 5);

    test obj2 = (test)amethyst:gc/malloc();
    test(obj2, 10);

    obj1 = obj2;

    print(obj1);
    print(amethyst:gc/heap);

    //amethyst:exit();
}
